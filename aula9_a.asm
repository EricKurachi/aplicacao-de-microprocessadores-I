	ORG 0
	MOV R7, #00H
LOOP:   MOV P2, #0FFH
LOOP1:  CLR P2.4
	JNB P2.0, ZERO
	JNB P2.1, QUATRO
	JNB P2.2, OITO
	JNB P2.3, CCC
	MOV P2, #0FFH
LOOP2:  CLR P2.5
	JNB P2.0, UM
	JNB P2.1, CINCO
	JNB P2.2, NOVE
	JNB P2.3, DDD
	MOV P2, #0FFH
LOOP3:  CLR P2.6
	JNB P2.0, DOIS
	JNB P2.1, SEIS
	JNB P2.2, AAA
	JNB P2.3, EEE
	MOV P2, #0FFH
LOOP4:  CLR P2.7
	JNB P2.0, TRES
	JNB P2.1, SETE
	JNB P2.2, BBB
	JNB P2.3, FFF
	ACALL COMANDO
	MOV A, #0FFH
	SJMP LOOP
ZERO:   MOV A, #00H
	SJMP LOOP1
UM:	MOV A, #01H
	SJMP LOOP2
DOIS:	MOV A, #02H
	SJMP LOOP3
TRES:	MOV A, #03H
	SJMP LOOP4
QUATRO:	MOV A, #04H
	SJMP LOOP1
CINCO:	MOV A, #05H
	SJMP LOOP2
SEIS:	MOV A, #06H
	SJMP LOOP3
SETE:	MOV A, #07H
	SJMP LOOP4
OITO:	MOV A, #08H
	SJMP LOOP1
NOVE:	MOV A, #09H
	SJMP LOOP2
AAA:	MOV A, #0AH
	SJMP LOOP3
BBB:	MOV A, #0BH
	SJMP LOOP4
CCC:	MOV A, #0CH
	SJMP LOOP1
DDD:	MOV A, #0DH
	SJMP LOOP2
EEE:	MOV A, #0EH
	SJMP LOOP3
FFF:	MOV A, #00FH
	SJMP LOOP4
;***************************************
COMANDO:CJNE A, #0FFH, INICIO
	RET
INICIO: CJNE R2, #00H, ENTER
	CJNE R0, #00H, SEG
	MOV R0, A
	RET
SEG:	CJNE R1, #00H, TERC
	MOV R1, A
	RET
TERC:   CJNE A, #0AH, QUART
	CLR P1.1
	MOV R2, #01H
	RET
QUART:  CJNE A, #0BH, ENTER
	SETB P1.1
	MOV R2, #01H
	RET
ENTER:  CJNE A, #0FH, SAIR
PASSO:	SETB P1.0
	CLR P1.0
	INC R7
	DJNZ R0, PASSO
	MOV R3, #0AH
DEZENA:	SETB P1.0
	CLR P1.0
	INC R7
	DJNZ R3, DEZENA
	MOV R3, #0AH
	DJNZ R1, DEZENA
	MOV R0, #00H
	MOV R1, #00H
	MOV R2, #00H
	MOV R7, #00H
SAIR:	RET
	END